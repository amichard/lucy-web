<!-- Editable -->
<div *ngIf="!readonly" class="col-12 field">

  <!-- Input field -->
  <mat-form-field *ngIf="!multiline">
    <input
      matInput
      placeholder="{{ header }}"
      [(ngModel)]="value"
      [attr.id]="fieldId"
      [formControl]="fieldFormControl"
      [errorStateMatcher]="matcher"
    />
    <!-- ERROR MESSAGES  -->
    <!-- Required  -->
    <mat-error *ngIf="fieldFormControl.hasError('required')">
      <strong>required</strong>
    </mat-error>
    <!-- Over max size  -->
    <mat-error
      *ngIf="
        !fieldFormControl.hasError('required') &&
        fieldFormControl.hasError('maxlength')
      "
    >
      You are over the
      {{ fieldFormControl.errors.maxlength.requiredLength }} character limit
    </mat-error>
    <!-- Positive Number  -->
    <mat-error
      *ngIf="
        !fieldFormControl.hasError('required') &&
        fieldFormControl.hasError('positiveNumber')
      "
    >
      {{ fieldFormControl.errors.positiveNumberError}}
    </mat-error>
    <!-- Regex  -->
    <mat-error
      *ngIf="
        !fieldFormControl.hasError('required') &&
        fieldFormControl.hasError('requiredPattern')
      "
    >
      Invalid characters
    </mat-error>
    <!-- Latitude -->
    <mat-error
      *ngIf="
        !fieldFormControl.hasError('required') &&
        fieldFormControl.hasError('invalidLatitude')
      "
    >
      {{ fieldFormControl.errors.invalidLatitudeError }}
    </mat-error>
    <!-- Longitude -->
    <mat-error
      *ngIf="
        !fieldFormControl.hasError('required') &&
        fieldFormControl.hasError('validLongitude')
      "
    >
      {{ fieldFormControl.errors.invalidLongitudeError }}
    </mat-error>
  </mat-form-field>

  <!-- MultiLine (TextArea) -->

  <mat-form-field *ngIf="multiline" appearance="outline">
    <mat-label>{{ header }}</mat-label>
    <textarea
      matInput
      rows="4"
      [attr.id]="fieldId"
      [(ngModel)]="value"
      [formControl]="fieldFormControl"
      [errorStateMatcher]="matcher"
    ></textarea>
    <mat-error *ngIf="fieldFormControl.hasError('required')">
      <strong>required</strong>
    </mat-error>
    <mat-error
      *ngIf="
        !fieldFormControl.hasError('required') &&
        fieldFormControl.hasError('maxlength')
      "
    >
      You are over the
      {{ fieldFormControl.errors.maxlength.requiredLength }} character limit
    </mat-error>
  </mat-form-field>
</div>

<!-- Read only -->
<div *ngIf="readonly" class="col-12 field">
  <label class="field-header">{{ header }}</label>

  <!-- Input Field -->
  <input
    *ngIf="!multiline"
    type="text"
    [(ngModel)]="value"
    class="form-control view view-field-background"
    [attr.id]="fieldId"
    [readonly]="readonly"
  />
  <!-- multiLine -->
  <textarea
    *ngIf="multiline"
    rows="4"
    [(ngModel)]="value"
    class="form-control view-field-background"
    [attr.id]="fieldId"
    [readonly]="readonly"
  ></textarea>
</div>
