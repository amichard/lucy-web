{
    "apiVersion": "v1",
    "kind": "Template",
    "metadata": {
        "creationTimestamp": null,
        "labels": {
            "build": "lucy-api"
        },
        "name": "lucy-api"
    },
    "parameters": [
        {
          "name": "NAME",
          "displayName": "Name",
          "description": "A suffix appended to all objects",
          "required": true,
          "value": "lucy-api"
        },
        {
          "name": "SUFFIX",
          "displayName": "Name Suffix",
          "description": "A suffix appended to all objects",
          "required": true,
          "value": "lucy-api"
        },
        {
          "name": "VERSION",
          "required": true,
          "value": "1.0"
        },
        {
          "name": "SOURCE_CONTEXT_DIR",
          "required": true,
          "value": "/api/api_sources"
        },
        {
          "name": "SOURCE_REPOSITORY_URL",
          "required": true,
          "value": "https://github.com/bcgov/lucy-web"
        },
        {
          "name": "SOURCE_REPOSITORY_REF",
          "required": false,
          "value": "dev-api"
        }
    ],
    "spec": {
        "failedBuildsHistoryLimit": 5,
        "nodeSelector": null,
        "output": {
            "to": {
                "kind": "ImageStreamTag",
                "name": "${SUFFIX}:latest"
            }
        },
        "postCommit": {},
        "resources": {},
        "runPolicy": "Serial",
        "source": {
            "contextDir": "${SOURCE_CONTEXT_DIR}",
            "git": {
                "uri": "${SOURCE_REPOSITORY_URL}",
                "ref": "${SOURCE_REPOSITORY_REF}"
            },
            "type": "Git"
        },
        "strategy": {
            "dockerStrategy": {
                "from": {
                    "kind": "ImageStreamTag",
                    "name": "nodejs-8-rhel7:latest"
                }
            },
            "type": "Docker"
        },
        "successfulBuildsHistoryLimit": 5,
        "triggers": [
            {
                "github": {
                    "secret": "bZkAyHotBdf-Ukve8TKQ"
                },
                "type": "GitHub"
            },
            {
                "generic": {
                    "secret": "8s9Hm-ywPmjsz6awdslm"
                },
                "type": "Generic"
            },
            {
                "type": "ConfigChange"
            },
            {
                "imageChange": {
                    "lastTriggeredImageID": "registry.access.redhat.com/rhscl/nodejs-8-rhel7@sha256:c9561f3067d6a774754c1401ec9372300d57ecb07a6d8e14260d43b424fa9dc9"
                },
                "type": "ImageChange"
            }
        ]
    },
    "status": {
        "lastVersion": 7
    }
}
